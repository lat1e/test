<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sum List</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

</head>

<body>
  <div class="container">
      <h1>List Calculation</h1>  

  <div class="mb-3">
  <label for="nuber-input" class="form-label">Number list</label>
  <textarea class="form-control" id="number-input" rows="3"></textarea>
</div>
  <button type="button" class="btn btn-primary" id="button-calculate">Calculate</button>
  <div id="result">
    <ul>
      <li>Sum = <span id="result-sum"></span></li>
      <li>Average = <span id="result-average"></span></li>
      <li>Deviation = <span id="result-deviation"></span></li>
    </ul>
  </div>
  </div>
  <script>
    var numberInput = document.getElementById("number-input");
    var buttonCalculate = document.getElementById("button-calculate");
    var resultSum = document.getElementById("result-sum");
    var resultAverage = document.getElementById("result-average");
    var resultDeviation = document.getElementById("result-deviation")
    function clickHandler() {
      let numList = numberInput.value.split(/[\s,]+/).map(v => Number(v));
      let sum = 0;
      let sum2 = 0;
      for(let a of numList) {
        sum += a
        sum2 += a*a;
      }
      let average = 1.0 * sum / numList.length;
      let deviation = Math.sqrt(sum2/numList.length - average*average);
      resultSum.innerText = sum;
      resultAverage.innerText = average;
      resultDeviation.innerText = deviation;
    }
    function calculate() {
      buttonCalculate.addEventListener("click", clickHandler);
      numberInput.addEventListener("input", clickHandler);
    }
    calculate()
  </script>
</body>

</html>